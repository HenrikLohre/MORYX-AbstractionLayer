{
    "openapi": "3.0.1",
    "info": {
      "title": "AL - Products",
      "version": "v1"
    },
    "servers": [
        {
            "url":"http://localhost",
            "description":"Test Server"
        }
    ],
    "paths": {
        "/ProductInteraction/products/updateParameters": {
            "post": {
              "tags": [
                "AL - Products"
              ],
              "summary": "",
              "requestBody": {
                "content": {
                  "application/json": {
                    "schema": {
                      "$ref":  "#/components/schemas/UpdateParametersRequest"
                    }
                  }
                }
              },
              "responses": {
                "200": {
                  "description": "Ok",
                  "content": {
                    "application/json": {
                      "schema": {
                          "$ref": "#/components/schemas/Entry"
                        }
                      }
                    }
                },
                "500": {
                  "description": "Not expected internal server error"
                }
              }
            }
          },
          "/ProductInteraction/products/customization": {
            "get": {
              "tags": [
                "AL - Products"
              ],
              "summary": "Customization of the application, e.g. RecipeCreation, Importers, ....",
              "responses": {
                "200": {
                  "description": "Ok",
                  "content": {
                    "application/json": {
                      "schema": {
                          "$ref":  "#/components/schemas/ProductCustomization"
                        }
                      }
                    }
                },
                "500": {
                  "description": "Not expected internal server error"
                }
              }
            }
          },
          "/ProductInteraction/products": {
            "post": {
              "tags": [
                "AL - Products"
              ],
              "summary": "",
              "requestBody": {
                "content": {
                  "application/json": {
                    "schema": {
                      "$ref": "#/components/schemas/ProductQuery"
                    }
                  }
                }
              },
              "responses": {
                "200": {
                  "description": "Ok",
                  "content": {
                    "application/json": {
                      "schema": {
                          "type": "array",
                          "items": {
                              "$ref": "#/components/schemas/ProductModel"
                          }
                        }
                      }
                    }
                },
                "500": {
                  "description": "Not expected internal server error"
                }
              }
            }
          }
    },
    "components": {
      "schemas": {
        "EntryValueType": {
            "enum": [
              0,
              1,
              2,
              3,
              4,
              5,
              6,
              7,
              8,
              9,
              10,
              11,
              12,
              13,
              14,
              15
            ],
            "type": "integer",
            "format": "int32"
        },
        "EntryUnitType": {
            "enum": [
              0,
              1,
              2,
              3
            ],
            "type": "integer",
            "format": "int32"
        },
        "RevisionFilter": {
            "enum": [
              0,
              1,
              2
            ],
            "type": "integer",
            "format": "int32"
        },
        "RecipeFilter": {
            "enum": [
              0,
              1,
              2
            ],
            "type": "integer",
            "format": "int32"
        },
        "Selector": {
            "enum": [
              0,
              1,
              2
            ],
            "type": "integer",
            "format": "int32"
        },
        "ProductState": {
            "enum": [
              0,
              1,
              2
            ],
            "type": "integer",
            "format": "int32"
        },
        "RecipeState": {
            "enum": [
              0,
              1,
              2
            ],
            "type": "integer",
            "format": "int32"
        },
        "RecipeClassificationModel": {
            "enum": [
              0,
              1,
              2,
              3,
              4
            ],
            "type": "integer",
            "format": "int32"
        },
        "EntryValue": {
            "type": "object",
            "properties": {
              "type": {
                "$ref": "#/components/schemas/EntryValueType"
              },
              "unitType": {
                "$ref": "#/components/schemas/EntryUnitType"
              },
              "current": {
                "type": "string",
                "nullable": true
              },
              "default": {
                "type": "string",
                "nullable": true
              },
              "possible": {
                "type": "array",
                "items": {
                    "type": "string"
                }
              },
              "isReadOnly": {
                "type": "boolean"
              }
            }
        },
        "EntryValidation": {
            "type": "object",
            "properties": {
              "minimum": {
                "type": "number"
              },
              "maximum": {
                "type": "number"
              },
              "regex": {
                "type": "string"
              }
            }
        },
        "Entry": {
          "type": "object",
          "properties": {
            "displayName": {
              "type": "string",
              "nullable": true
            },
            "identifier": {
              "type": "string",
              "nullable": true
            },
            "description": {
              "type": "string",
              "nullable": true
            },
            "entryValue": {
                  "$ref": "#/components/schemas/EntryValue"
            },
            "entryValidation": {
                "$ref":  "#/components/schemas/EntryValidation"
            },
            "subEntries": {
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/Entry"
              }
            },
            "prototypes": {
              "type": "array",
              "items": {
                "$ref": "#/components/schemas/Entry"
              }
            }
          }
        },
        "ProductDefinitionModel": {
            "type":"object",
            "properties": {
                "name": {
                    "type": "string"
                },
                "displayName": {
                    "type": "string"
                },
                "baseDefinition": {
                    "type": "string"
                }
            }
        },
        "RecipeDefinitionModel": {
            "type":"object",
            "properties": {
                "name": {
                    "type": "string"
                },
                "displayName": {
                    "type": "string"
                },
                "hasWorkplans": {
                    "type": "boolean"
                }
            }
        },
        "ProductImporter": {
            "type":"object",
            "properties": {
                "name": {
                    "type": "string"
                },
                "parameters": {
                    "$ref": "#/components/schemas/Entry"
                }
            }
        },
        "UpdateParametersRequest": {
            "type":"object",
            "properties": {
                "importer": {
                    "type": "string"
                },
                "currentParameters": {
                      "$ref": "#/components/schemas/Entry"
                }                
            }
        },
        "ProductCustomization": {
            "type":"object",
            "properties": {
                "productTypes": {
                    "type": "array",
                    "items": {
                        "$ref": "#/components/schemas/ProductDefinitionModel"
                      }
                },
                "recipeTypes": {
                    "type": "array",
                    "items": {
                        "$ref": "#/components/schemas/RecipeDefinitionModel"
                      }
                },
                "importers": {
                    "type": "array",
                    "items": {
                        "$ref": "#/components/schemas/ProductImporter"
                      }
                }
            }
        },
        "ProductQuery": {
            "type":"object",
            "properties": {
                "includeDeleted": {
                    "type": "boolean"
                },
                "type": {
                    "type": "string"
                },
                "excludeDerivedTypes": {
                    "type": "boolean"
                },
                "identifier": {
                    "type": "string"
                },
                "revisionFilter": {
                    "$ref": "#/components/schemas/RevisionFilter"
                },
                "name": {
                    "type": "string"
                },
                "revision": {
                    "type": "number"
                },
                "recipeFilter": {
                    "$ref": "#/components/schemas/RecipeFilter"
                },
                "selector": {
                    "$ref": "#/components/schemas/Selector"
                }
            }
        },
        "ProductFile": {
            "type":"object",
            "properties": {
                "name": {
                    "type": "string"
                },
                "mimeType": {
                    "type": "string"
                },
                "filePath": {
                    "type": "string"
                },
                "fileHash": {
                    "type": "string"
                }
            }
        },
        "PartModel": {
            "type":"object",
            "properties": {
                "id": {
                    "type": "number"
                },
                "properties": {
                    "$ref": "#/components/schemas/Entry"
                },
                "product": {
                    "$ref": "#/components/schemas/ProductModel"
                }
            }
        },
        "PartConnector": {
            "type":"object",
            "properties": {
                "name": {
                    "type": "string"
                },
                "displayName": {
                    "type": "string"
                },
                "type": {
                    "type": "string"
                },
                "isCollection": {
                    "type": "boolean"
                },
                "parts": {
                    "type": "array",
                    "items": {
                        "$ref": "#/components/schemas/PartModel"
                    }                    
                },
                "propertyTemplates": {
                    "$ref":  "#/components/schemas/Entry"
                }
            }
        },
        "RecipeModel": {
            "type":"object",
            "properties": {
                "id": {
                    "type": "number"
                },
                "name": {
                    "type": "string"
                },
                "state": {
                    "$ref": "#/components/schemas/RecipeState"
                },
                "revision": {
                    "type": "number"
                },
                "type": {
                    "type": "string"
                },
                "properties": {
                    "$ref":  "#/components/schemas/Entry"
                },
                "workplanId": {
                    "type": "number"
                },
                "classification": {
                    "$ref":  "#/components/schemas/RecipeClassificationModel"
                }
            }
        },
        "ProductModel": {
            "type":"object",
            "properties": {
                "id": {
                    "type": "number"
                },
                "name": {
                    "type": "string"
                },
                "state": {
                    "$ref":  "#/components/schemas/ProductState"
                },
                "identifier": {
                    "type": "string"
                },
                "revision": {
                    "type": "number"
                },
                "type": {
                    "type": "string"
                },
                "properties": {
                    "$ref": "#/components/schemas/Entry"
                },
                "files": {
                    "type": "array",
                    "items": {
                        "$ref": "#/components/schemas/ProductFile"
                    }                    
                },
                "parts": {
                    "type": "array",
                    "items": {
                        "$ref": "#/components/schemas/PartConnector"
                    }                    
                },
                "recipes": {
                    "type": "array",
                    "items": {
                        "$ref": "#/components/schemas/RecipeModel"
                    }                    
                }
            }
        }
      }
    }
  }